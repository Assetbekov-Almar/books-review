{"version":3,"sources":["infrastructure/service/storage/LocalStorageService.js","infrastructure/service/storage/config.js","assets/images/logo.webp","assets/images/github.svg","assets/images/gitlab.svg","desktop/components/Header/Header.module.css","desktop/components/Header/HeaderLogo/HeaderLogo.module.css","desktop/components/Header/HeaderTabs/HeaderTabs.module.css","desktop/components/Header/HeaderLogo/index.js","desktop/components/Header/HeaderLogo/HeaderLogo.js","desktop/components/Header/HeaderTabs/index.js","desktop/components/Header/HeaderTabs/HeaderTabs.js","desktop/components/Header/index.js","desktop/components/Header/Header.js","desktop/components/Footer/index.js","desktop/components/Footer/Footer.js","desktop/components/Routes/Routes.js","desktop/components/Routes/index.js"],"names":["LocalStorageService","key","value","Error","localStorage","setItem","getItem","removeItem","clear","FIRST_NAME","LAST_NAME","EMAIL","PASSWORD","module","exports","HeaderLogo","className","styles","headerLogo","src","logo","alt","HeaderTabs","navigate","useNavigate","useState","activeTab","setActiveTab","headerTabs","name","pathname","map","tab","index","onClick","headerTabs__name","active","to","exit_btn","Header","header","Footer","href","target","rel","github","gitlab","Library","lazy","Bookshelf","Contacts","Auth","Layout","React","isInitialMount","setIsInitialMount","useEffect","divInstall","document","getElementById","butInstall","installPromotion","querySelector","window","addEventListener","event","console","log","preventDefault","deferredPrompt","style","display","classList","toggle","a","promptEvent","prompt","userChoice","result","location","protocol","requireHTTPS","replace","remove","navigator","serviceWorker","register","handleInstallBtnClick","outcome","id","type","Routes","useLocation","email","setState","fallback","path","element"],"mappings":"yHAAMA,E,uFACL,SAAQC,EAAKC,GACZ,GAAqB,kBAAVA,EACV,MAAM,IAAIC,MAAJ,uCAA0CF,EAA1C,oBAGP,GAAmB,kBAARA,EACV,MAAM,IAAIE,MAAJ,cAAiBF,EAAjB,mBAEPG,aAAaC,QAAQJ,EAAKC,K,qBAG3B,SAAQD,GACP,GAAmB,kBAARA,EACV,MAAM,IAAIE,MAAJ,cAAiBF,EAAjB,mBAGP,OAAOG,aAAaE,QAAQL,K,uBAG7B,SAAUA,GACT,GAAmB,kBAARA,EACV,MAAM,IAAIE,MAAJ,cAAiBF,EAAjB,mBAGPG,aAAaG,WAAWN,K,mBAGzB,WACCG,aAAaI,Y,KAIA,QAAIR,G,gCCjCnB,wIAAO,IAAMS,EAAa,aACbC,EAAY,YACZC,EAAQ,QACRC,EAAW,Y,gCCHT,QAA0B,mC,gCCA1B,QAA0B,oC,gCCA1B,QAA0B,oC,mBCCzCC,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,WAAa,iC,mBCA/BD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,SAAW,6BAA6B,iBAAmB,qCAAqC,OAAS,6B,oJCCxJC,MCEA,WACX,OAAO,qBAAKC,UAAWC,IAAOC,WAAYC,IAAKC,IAAMC,IAAI,U,iCCH9CC,ECGI,WACjB,IAAMC,EAAWC,cACjB,EAAkCC,mBAAS,MAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAiBE,OACE,qBAAIX,UAAWC,IAAOW,WAAtB,UAhBS,CACX,CAACC,KAAM,UAAWC,SAAU,yBAC5B,CAACD,KAAM,eAAgBC,SAAU,2BACjC,CAACD,KAAM,WAAYC,SAAU,2BAcnBC,KAAI,SAACC,EAAKC,GAAN,OACR,oBACIC,SAbSL,EAaYG,EAAIH,KAbP,WAC5BF,EAAaE,KAaHb,UAAS,UAAKC,IAAOkB,iBAAZ,YAAgCT,IAAcM,EAAIH,KAAOZ,IAAOmB,OAAS,IAFtF,SAGE,cAAC,IAAD,CAAMC,GAAIL,EAAIF,SAAd,SAAyBE,EAAIH,QAHtBI,GAZG,IAACJ,KAkBf,wBAAQb,UAAWC,IAAOqB,SAAUJ,QAdf,WACzBlC,IAAoBQ,QACpBe,EAAS,UAYL,0BC/BOgB,ECGA,WACX,OACI,yBAAQvB,UAAWC,IAAOuB,OAA1B,UACI,cAAC,EAAD,IACA,qBAAKxB,UAAU,iBAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,wBAAQA,UAAU,iBAAlB,0BAGJ,wBAAQA,UAAU,qBAAlB,+BACA,cAAC,EAAD,Q,wBCbGyB,ECEA,kBACd,wBAAQzB,UAAU,uDAAlB,SACC,sBACCA,UAAU,wFADX,UAGC,qBAAKA,UAAU,gCAAf,SACC,qBAAIA,UAAU,8BAAd,UACC,6BAAI,cAAC,IAAD,CAAMqB,GAAI,WAAV,uBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAI,aAAV,4BACJ,6BAAI,cAAC,IAAD,CAAMA,GAAI,YAAV,6BAIN,qBAAKrB,UAAU,wEAAf,oCAEA,sBAAKA,UAAU,0DAAf,UACC,mBAAG0B,KAAK,sCAAsCC,OAAO,SAASC,IAAI,aAAlE,SACC,qBAAKzB,IAAK0B,IAAQxB,IAAI,aAEvB,mBAAGqB,KAAK,6BAA6BC,OAAO,SAASC,IAAI,aAAzD,SACC,qBAAKzB,IAAK2B,IAAQ9B,UAAU,UAAUK,IAAI,sB,QChBzC0B,EAAUC,gBAAK,kBAAM,iCACrBC,EAAYD,gBAAK,kBAAM,iCACvBE,EAAWF,gBAAK,kBAAM,sDACtBG,EAAOH,gBAAK,kBAAM,iCA8BxB,SAASI,IACP,MAA4CC,IAAM5B,UAAS,GAA3D,mBAAO6B,EAAP,KAAuBC,EAAvB,KAEAF,IAAMG,WAAU,WACd,GAAIF,EACFC,GAAkB,OACb,CACL,IAAME,EAAaC,SAASC,eAAe,oBACrCC,EAAaF,SAASC,eAAe,cACrCE,EAAmBH,SAASI,cAAc,sBA6ChD,GA1CAC,OAAOC,iBAAiB,uBAAuB,SAACC,GAC9CC,QAAQC,IAAI,eAAM,sBAAuBF,GAEzCA,EAAMG,iBAENL,OAAOM,eAAiBJ,EAExBJ,EAAiBS,MAAMC,QAAU,QAGjCd,EAAWe,UAAUC,OAAO,UAAU,MAGxCb,EAAWI,iBAAiB,QAA5B,sBAAqC,8BAAAU,EAAA,yDACnCR,QAAQC,IAAI,eAAM,sBAElBN,EAAiBS,MAAMC,QAAU,OAE3BI,EAAcZ,OAAOM,eALQ,wDAWnCM,EAAYC,SAXuB,SAadD,EAAYE,WAbE,OAa7BC,EAb6B,OAcnCZ,QAAQC,IAAI,eAAM,aAAcW,GAGhCf,OAAOM,eAAiB,KAExBZ,EAAWe,UAAUC,OAAO,UAAU,GAnBH,6CAsBrCV,OAAOC,iBAAiB,gBAAgB,SAACC,GACvCC,QAAQC,IAAI,eAAM,eAAgBF,GAClCJ,EAAiBS,MAAMC,QAAU,OAEjCR,OAAOM,eAAiB,QAGO,UAA7BN,OAAOgB,SAASC,SAAsB,CACxC,IAAMC,EAAevB,SAASC,eAAe,gBAChCsB,EAAanB,cAAc,KACnCpB,KAAOqB,OAAOgB,SAASrC,KAAKwC,QAAQ,UAAW,YACpDD,EAAaT,UAAUW,OAAO,eAQhC,kBAAmBC,WACrBA,UAAUC,cAAcC,SAAS,mCASnC,IAAMC,EAAqB,uCAAG,8BAAAb,EAAA,6DAC5BX,OAAOM,eAAeO,SADM,SAEFb,OAAOM,eAAeQ,WAFpB,gBAEpBW,EAFoB,EAEpBA,QACRtB,QAAQC,IAAR,+CAAoDqB,IACpDzB,OAAOM,eAAiB,KAJI,2CAAH,qDAazB,OANFN,OAAOC,iBAAiB,gBAAgB,WAEtCD,OAAOM,eAAiB,KAExBH,QAAQC,IAAI,wBAGR,gCACE,cAAC,IAAD,IACE,cAAC,EAAD,IACA,sBAAKnD,UAAU,wBAAf,UACE,yBAAQA,UAAU,aAAlB,UACE,oBAAIA,UAAU,oBAAd,sCACA,oBAAGyE,GAAG,eAAezE,UAAU,SAA/B,UACE,sCADF,cACyB,qCADzB,iCACkE,2DADlE,OAGA,qBAAKyE,GAAG,mBAAmBzE,UAAU,SAArC,SACE,wBAAQyE,GAAG,aAAaC,KAAK,SAASxD,QAAS,kBAAMqD,GAArD,0BAKF,cAAC,IAAD,OAEJ,cAAC,EAAD,OAKGI,MA5IA,WACb,IAAMZ,EAAWa,cACjB,EAA0BnE,mBAASzB,IAAoBM,QAAQK,MAA/D,mBAAOkF,EAAP,KAAcC,EAAd,KAME,OAJFtC,qBAAU,WACRsC,EAAS9F,IAAoBM,QAAQK,QACpC,CAACoE,EAASjD,WAGT,cAAC,WAAD,CAAUiE,SAAW,6CAArB,SACE,cAAC,IAAD,UACIF,EAKE,eAAC,IAAD,CAAOG,KAAK,gBAAgBC,QAAS,cAAC7C,EAAD,IAArC,UACE,cAAC,IAAD,CAAO4C,KAAK,UAAUC,QAAS,cAAClD,EAAD,MAC/B,cAAC,IAAD,CAAOiD,KAAK,YAAYC,QAAS,cAAChD,EAAD,MACjC,cAAC,IAAD,CAAO+C,KAAK,WAAWC,QAAS,cAAC/C,EAAD,MAClC,cAAC,IAAD,CAAO8C,KAAK,IAAIC,QAAS,cAAC,IAAD,CAAU5D,GAAG,wBARtC,qCACE,cAAC,IAAD,CAAO2D,KAAK,sBAAsBC,QAAS,cAAC9C,EAAD,MAC3C,cAAC,IAAD,CAAO6C,KAAK,IAAIC,QAAS,cAAC,IAAD,CAAU5D,GAAG,kCCzBvCsD","file":"static/js/5.cfee946d.chunk.js","sourcesContent":["class LocalStorageService {\n\tsetItem(key, value) {\n\t\tif (typeof value !== 'string') {\n\t\t\tthrow new Error(`Value of localStorage by key ${key} is not string.`)\n\t\t}\n\n\t\tif (typeof key !== 'string') {\n\t\t\tthrow new Error(`Key ${key} is not string`)\n\t\t}\n\t\tlocalStorage.setItem(key, value)\n\t}\n\n\tgetItem(key) {\n\t\tif (typeof key !== 'string') {\n\t\t\tthrow new Error(`Key ${key} is not string`)\n\t\t}\n\n\t\treturn localStorage.getItem(key)\n\t}\n\n\tunsetItem(key) {\n\t\tif (typeof key !== 'string') {\n\t\t\tthrow new Error(`Key ${key} is not string`)\n\t\t}\n\n\t\tlocalStorage.removeItem(key)\n\t}\n\n\tclear() {\n\t\tlocalStorage.clear()\n\t}\n}\n\nexport default new LocalStorageService()\n","export const FIRST_NAME = 'first-name'\nexport const LAST_NAME = 'last-name'\nexport const EMAIL = 'email'\nexport const PASSWORD = 'password'\n","export default __webpack_public_path__ + \"static/media/logo.f78c8a42.webp\";","export default __webpack_public_path__ + \"static/media/github.04be58c1.svg\";","export default __webpack_public_path__ + \"static/media/gitlab.a9ff2a14.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2oKrB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerLogo\":\"HeaderLogo_headerLogo__5hzrj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerTabs\":\"HeaderTabs_headerTabs__1fB4q\",\"exit_btn\":\"HeaderTabs_exit_btn__21tGe\",\"headerTabs__name\":\"HeaderTabs_headerTabs__name__3NbFZ\",\"active\":\"HeaderTabs_active__2U2R2\"};","import HeaderLogo from './HeaderLogo'\n\nexport default HeaderLogo\n","import React from 'react'\nimport styles from './HeaderLogo.module.css'\nimport logo from '../../../../assets/images/logo.webp'\n\nexport default function HeaderLogo() {\n    return <img className={styles.headerLogo} src={logo} alt='logo' />\n}\n","import HeaderTabs from './HeaderTabs'\n\nexport default HeaderTabs\n","import React, {useState} from 'react'\nimport styles from './HeaderTabs.module.css'\nimport {Link, useNavigate} from 'react-router-dom'\nimport LocalStorageService from \"../../../../infrastructure/service/storage/LocalStorageService\";\n\nconst HeaderTabs = () => {\n  const navigate = useNavigate()\n  const [activeTab, setActiveTab] = useState(null)\n\n  const tabs = [\n    {name: 'Library', pathname: '/books-review/library'},\n    {name: 'My Bookshelf', pathname: '/books-review/bookshelf'},\n    {name: 'Contacts', pathname: '/books-review/contacts'}\n  ]\n\n  const handleClick = (name) => () => {\n    setActiveTab(name)\n  }\n\n  const handleSignOutClick = () => {\n    LocalStorageService.clear()\n    navigate('/auth')\n  }\n\n    return (\n      <ul className={styles.headerTabs}>\n        {tabs.map((tab, index) => (\n          <li key={index}\n              onClick={handleClick(tab.name)}\n              className={`${styles.headerTabs__name} ${activeTab === tab.name ? styles.active : ''}`}>\n            <Link to={tab.pathname}>{tab.name}</Link>\n          </li>\n        ))}\n        <button className={styles.exit_btn} onClick={handleSignOutClick}>Sign out</button>\n      </ul>\n    )\n}\n\nexport default HeaderTabs\n","import Header from './Header'\n\nexport default Header\n","import React from 'react'\nimport styles from './Header.module.css'\nimport HeaderLogo from './HeaderLogo'\nimport HeaderTabs from './HeaderTabs'\n\nconst Header = () => {\n    return (\n        <header className={styles.header}>\n            <HeaderLogo />\n            <div className=\"downloadPrompt\">\n              <div className=\"promptControllers\">\n                <button className=\"downloadButton\">Download</button>\n              </div>\n            </div>\n            <button className=\"notificationButton\">Show Notification</button>\n            <HeaderTabs />\n        </header>\n    )\n}\n\nexport default Header\n","import Footer from \"./Footer\";\n\nexport default Footer","import React from 'react'\nimport github from '../../../assets/images/github.svg'\nimport gitlab from '../../../assets/images/gitlab.svg'\nimport {Link} from \"react-router-dom\"\nconst Footer = () => (\n\t<footer className=\"border-t relative border-gray-200 w-1200 m-auto mt-6\">\n\t\t<div\n\t\t\tclassName=\"container flex flex-wrap items-center justify-center py-8 mx-auto  lg:justify-between\"\n\t\t>\n\t\t\t<div className=\"flex flex-wrap justify-center\">\n\t\t\t\t<ul className=\"flex items-center space-x-4\">\n\t\t\t\t\t<li><Link to={'/library'}>Library</Link></li>\n\t\t\t\t\t<li><Link to={'/bookshelf'}>My Bookshelf</Link></li>\n\t\t\t\t\t<li><Link to={'/contacts'}>Contacts</Link></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div className='absolute top-2/4 left-2/4 transform -translate-x-2/4 -translate-y-2/4'>Books Review Â© 2021</div>\n\n\t\t\t<div className=\"flex justify-center items-center gap-x-1.5 mt-4 lg:mt-0\">\n\t\t\t\t<a href='https://github.com/Assetbekov-Almar' target=\"_blank\" rel=\"noreferrer\" >\n\t\t\t\t\t<img src={github} alt='github' />\n\t\t\t\t</a>\n\t\t\t\t<a href='https://gitlab.com/almar-a' target=\"_blank\" rel=\"noreferrer\" >\n\t\t\t\t\t<img src={gitlab} className=\"w-8 h-8\" alt='gitlab' />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</footer>\n)\n\nexport default Footer","import React, {useEffect, useState,  Suspense, lazy } from 'react'\nimport {Outlet, Route, Routes as Routing, useLocation, Navigate} from 'react-router-dom'\nimport Header from '../Header'\nimport {ToastContainer} from \"react-toastify\";\nimport Footer from \"../Footer\";\nimport LocalStorageService from \"../../../infrastructure/service/storage/LocalStorageService\";\nimport {EMAIL} from \"../../../infrastructure/service/storage/config\";\n\nconst Library = lazy(() => import('../../pages/Library'))\nconst Bookshelf = lazy(() => import('../../pages/Bookshelf'))\nconst Contacts = lazy(() => import('../../pages/Contacts'))\nconst Auth = lazy(() => import('../../pages/Auth'))\n\nconst Routes = () => {\n  const location = useLocation()\n  const [email, setState] = useState(LocalStorageService.getItem(EMAIL))\n\n  useEffect(() => {\n    setState(LocalStorageService.getItem(EMAIL))\n  }, [location.pathname])\n\n    return (\n      <Suspense fallback={ <div>loading...</div> }>\n        <Routing>\n          {!email\n            ? <>\n                <Route path='/books-review//auth' element={<Auth/>}/>\n                <Route path='*' element={<Navigate to='/books-review//auth'/>}/>\n              </>\n            : <Route path='/books-review' element={<Layout />}>\n                <Route path='library' element={<Library />} />\n                <Route path='bookshelf' element={<Bookshelf />} />\n                <Route path='contacts' element={<Contacts />} />\n              <Route path='*' element={<Navigate to='/books-review/'/>}/>\n            </Route>\n          }\n        </Routing>\n      </Suspense>\n    )\n}\n\nfunction Layout() {\n  const [isInitialMount, setIsInitialMount] = React.useState(true);\n\n  React.useEffect(() => {\n    if (isInitialMount) {\n      setIsInitialMount(false);\n    } else {\n      const divInstall = document.getElementById('installContainer');\n      const butInstall = document.getElementById('butInstall');\n      const installPromotion = document.querySelector('.install-promotion');\n\n      /* Put code here */\n      window.addEventListener('beforeinstallprompt', (event) => {\n        console.log('ðŸ‘', 'beforeinstallprompt', event);\n\n        event.preventDefault();\n        // Stash the event so it can be triggered later.\n        window.deferredPrompt = event;\n\n        installPromotion.style.display = 'block';\n\n        // Remove the 'hidden' class from the install button container\n        divInstall.classList.toggle('hidden', false);\n      });\n\n      butInstall.addEventListener('click', async () => {\n        console.log('ðŸ‘', 'butInstall-clicked');\n\n        installPromotion.style.display = 'none';\n\n        const promptEvent = window.deferredPrompt;\n        if (!promptEvent) {\n          // The deferred prompt isn't available.\n          return;\n        }\n        // Show the install prompt.\n        promptEvent.prompt();\n        // Log the result\n        const result = await promptEvent.userChoice;\n        console.log('ðŸ‘', 'userChoice', result);\n        // Reset the deferred prompt variable, since\n        // prompt() can only be called once.\n        window.deferredPrompt = null;\n        // Hide the install button.\n        divInstall.classList.toggle('hidden', true);\n      });\n\n      window.addEventListener('appinstalled', (event) => {\n        console.log('ðŸ‘', 'appinstalled', event);\n        installPromotion.style.display = 'none';\n        // Clear the deferredPrompt so it can be garbage collected\n        window.deferredPrompt = null;\n      });\n\n      if (window.location.protocol === 'http:') {\n        const requireHTTPS = document.getElementById('requireHTTPS');\n        const link = requireHTTPS.querySelector('a');\n        link.href = window.location.href.replace('http://', 'https://');\n        requireHTTPS.classList.remove('hidden');\n      }\n    }\n  });\n\n\n\n  /* Only register a service worker if it's supported */\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/books-review/service-worker.js');\n  }\n\n  /**\n   * Warn the page must be served over HTTPS\n   * The `beforeinstallprompt` event won't fire if the page is served over HTTP.\n   * Installability requires a service worker with a fetch event handler, and\n   * if the page isn't served over HTTPS, the service worker won't load.\n   */\n  const handleInstallBtnClick = async () => {\n    window.deferredPrompt.prompt();\n    const { outcome } = await window.deferredPrompt.userChoice;\n    console.log(`User response to the install prompt: ${outcome}`);\n    window.deferredPrompt = null;\n  };\n\n  window.addEventListener('appinstalled', () => {\n    // Clear the deferredPrompt so it can be garbage collected\n    window.deferredPrompt = null;\n    // Optionally, send analytics event to indicate successful install\n    console.log('PWA was installed');\n  });\n    return (\n        <div>\n          <ToastContainer />\n            <Header />\n            <div className='content w-1200 m-auto'>\n              <header className=\"App-header\">\n                <h2 className=\"install-promotion\">You can install PWA now.</h2>\n                <p id=\"requireHTTPS\" className=\"hidden\">\n                  <b>STOP!</b> This page <b>must</b> be served over HTTPS. Please <a>reload this page via HTTPS</a>.\n                </p>\n                <div id=\"installContainer\" className=\"hidden\">\n                  <button id=\"butInstall\" type=\"button\" onClick={() => handleInstallBtnClick}>\n                    Install\n                  </button>\n                </div>\n              </header>\n                <Outlet />\n            </div>\n            <Footer />\n        </div>\n    )\n}\n\nexport default Routes\n","import Routes from './Routes.js'\n\nexport default Routes"],"sourceRoot":""}